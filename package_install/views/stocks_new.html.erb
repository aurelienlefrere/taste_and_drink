<div class="td-stock-page">
  <%# === HEADER === %>
  <div class="td-page-header">
    <h1 class="td-page-title">Ajouter une bouteille</h1>
    <p class="td-page-subtitle">À votre cave personnelle</p>
  </div>

  <%= simple_form_for(@stock) do |f| %>
    <%# === SECTION DRINK (avec liseré doré) === %>
    <div class="td-card td-drink-section">
      <div class="td-section-header">
        <i class="fas fa-wine-bottle me-2"></i>
        <h3 class="td-section-title">Boisson</h3>
      </div>

      <%= f.association :drink,
          label: false,
          input_html: {
            data: { controller: "tom-select" },
            class: "td-select-drink"
          },
          wrapper_html: { class: "td-drink-select-wrapper" } %>
    </div>

    <%# === SECTION QUANTITÉ (avec boutons +/-) === %>
    <div class="td-card td-quantity-section">
      <div class="td-section-header">
        <i class="fas fa-hashtag me-2"></i>
        <h3 class="td-section-title">Quantité</h3>
      </div>

      <div class="td-quantity-controls" data-controller="quantity">
        <button type="button"
                class="btn-quantity btn-minus"
                data-action="click->quantity#decrease">
          <i class="fas fa-minus"></i>
        </button>

        <%= f.input :quantity,
            label: false,
            input_html: {
              min: 1,
              value: 1,
              class: "td-quantity-input",
              data: { quantity_target: "input" }
            },
            wrapper_html: { class: "td-quantity-input-wrapper" } %>

        <button type="button"
                class="btn-quantity btn-plus"
                data-action="click->quantity#increase">
          <i class="fas fa-plus"></i>
        </button>
      </div>
    </div>

    <%# === BOUTON SUBMIT === %>
    <%= f.submit "Ajouter à ma cave", class: "btn btn-gold w-100 mt-3" %>
  <% end %>
</div>
